{"version":3,"file":"static/webpack/static/development/pages/Contacts.js.631950bfc8158084fefa.hot-update.js","sources":["webpack:///./src/components/ui/ShowContacts.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { makeStyles, Box } from '@material-ui/core';\nimport personService from '../services/persons';\nimport ShowContactsBlock from '../ui/ShowContactsBlock';\n\nconst useStyles = makeStyles((theme) => ({\n   dialog:{\n    paddingTop:'1rem',   \n  },\n}));\n\nexport default function ShowContacts () {\n\n  const classes = useStyles();\n\n  const [persons, setPersons] = useState([]);\n  const [searchName, setSearchName] = useState('');\n  const [showAll, setShowAll] = useState(true);\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons);\n      });\n  }, []);\n\n\n  const deletePerson = id => {\n    personService\n      .remove(id)\n      .then(() => {\n        const updatedPersons = persons.filter(p => p.id !== id);\n        setPersons(updatedPersons);\n      })\n  }\n\n  const handleSearchName = event => {\n    setSearchName(event.target.value);\n    setShowAll(false);\n  }\n\n  const contactsToShow = showAll\n  ? persons\n  : persons.filter(person => {\n      let toFilter = person.name.toLocaleLowerCase();\n      let toSearch = searchName.toLowerCase()\n      return toFilter.includes(toSearch);\n    });\n    \n      return (\n        <div>\n          <Box className={classes.dialog}>\n             <ShowContactsBlock\n             contactsToShow={contactsToShow}\n             handleSearchName = {handleSearchName}\n             deletePerson = {deletePerson}\n             persons = {persons}\n             />\n          </Box>\n        </div>\n      );\n}"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AADA;AADA;AAMA;AAEA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAGA;AACA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;;;;A","sourceRoot":""}