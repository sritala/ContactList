{"version":3,"file":"static/webpack/static/development/pages/AddContact.js.a8b742f1fb67bc8c0411.hot-update.js","sources":["webpack:///./node_modules/@material-ui/icons/Close.js","webpack:///./src/components/ui/Dialog.tsx","webpack:///./src/components/ui/Form.tsx"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Close');\n\nexports.default = _default;","import React, { forwardRef, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport List from \"@material-ui/core/List\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Box from \"@material-ui/core/Box\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Persons from \"./Persons\";\nimport personService from \"../services/persons\";\nimport Slide from \"@material-ui/core/Slide\";\nimport Filter from \"./Filter\";\nimport { TransitionProps } from \"@material-ui/core/transitions/transition\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    padding: \"1rem\",\n    textAlign:'center'\n\n  },\n\n  dialog: {\n    height: \"100%\",\n    display: \"flex\",\n    justifyContent: \"center\",\n  },\n  open: {\n    width: 320,\n    marginTop: \"1rem\",\n  },\n  box: {\n    textAlign: \"center\",\n  },\n  buttons: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    paddingTop: \"1rem\",\n    paddingBottom: \"3rem\",\n  },\n  contacts:{\n    display:'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  form: {\n    width: 600,\n    [theme.breakpoints.down('xs')]: {\n      width: 350,\n    },\n  }\n\n}));\n\nconst Transition: React.ComponentType<TransitionProps> = forwardRef(\n  function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n  }\n);\n\nexport default function SimpleDialog({\n  contactsToShow,\n  handleSearchName,\n  deletePerson,\n  persons,\n}) {\n  \n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  if (persons.length === 0)\n    return (\n      <>\n        <Box className={classes.box}>\n          <Typography variant=\"body1\" style={{ color: \"#949494\" }}>\n            or\n          </Typography>\n          <Button\n            className={classes.open}\n            disabled={true}\n            variant=\"outlined\"\n            color=\"primary\"\n            onClick={handleClickOpen}\n          >\n            Show Contacts\n          </Button>\n        </Box>\n      </>\n    );\n\n  return (\n    <div>\n      <Box className={classes.box}>\n        <Typography variant=\"body1\" style={{ color: \"#949494\" }}>\n          or\n        </Typography>\n        <Button\n          className={classes.open}\n          variant=\"outlined\"\n          color=\"primary\"\n          onClick={handleClickOpen}\n        >\n          Show Contacts\n        </Button>\n      </Box>\n      <Dialog\n        className={classes.dialog}\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Transition}\n      >\n        <form className={classes.form}>\n          <AppBar className={classes.appBar}>\n            <Toolbar>\n              <IconButton\n                style={{ color: \"white\" }}\n                edge=\"start\"\n                color=\"inherit\"\n                onClick={handleClose}\n                aria-label=\"close\"\n              >\n                <CloseIcon />\n              </IconButton>\n            </Toolbar>\n          </AppBar>\n          <List>\n          <Box>\n            <Typography\n              variant=\"h5\"\n              className={classes.title}\n              style={{ color: \"#575757\" }}\n            >\n              My Contacts\n            </Typography>\n          </Box>\n          <Box style={{display:'flex', justifyContent:'flex-end'}}>\n            <Filter onChangeHandler={handleSearchName} />\n          </Box>\n            <Box className={classes.contacts}>\n              <Grid item={true}>\n                <Typography variant={\"h6\"}>\n                  <Persons persons={contactsToShow} onDelete={deletePerson} />\n                </Typography>\n              </Grid>\n           </Box>\n          </List>\n        </form>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { Typography, Grid, makeStyles, Box } from '@material-ui/core';\nimport SimpleDialog from './Dialog';\nimport personService from '../services/persons';\nimport PersonForm from './PersonForm';\nimport Persons from './Persons';\nimport Notification from './Notification';\n\nconst useStyles = makeStyles((theme) => ({\n   dialog:{\n    paddingTop:'1rem',   \n  },\n}));\n\nexport default function () {\n\n  const classes = useStyles();\n\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [searchName, setSearchName] = useState('');\n  const [showAll, setShowAll] = useState(true);\n  const [notificationMessage, setNotificationMessage] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons);\n      });\n  }, []);\n\n  const personIsAdded = (name, data) => {\n    let isAdded = data.find(el => el.name === name);\n    if (isAdded === undefined) {\n      return false;\n    }\n    return true;\n  } \n\n  const addContact = event => {\n    event.preventDefault();\n    // Check if the contact already exists\n    const toUpdate = persons.filter(p => {\n      return p.name.includes(newName);\n    });\n    if (toUpdate.length === 1) {\n      const confirm = window.confirm(`${newName} is already added to Contact List, replace the old number with a new one?`);\n      if (confirm) {\n        personService\n          .update(toUpdate[0].id, {\n            ...toUpdate[0],\n            number: newNumber\n          })\n          .then(updatedPerson => {\n            let updatedState = persons.filter(p => p.id !== updatedPerson.id);\n            updatedState = [...updatedState, updatedPerson];\n            setPersons(updatedState);\n            setNewName('');\n            setNewNumber('');\n            setNotificationMessage(`Added ${updatedPerson.name}`);\n            setTimeout(() => {\n              setNotificationMessage(null)\n            }, 2000);\n          })\n          .catch(error => {\n            setErrorMessage(`Information of ${newName} has already been removed from server`);\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000);\n          })\n      }\n    } else {\n      // if not, save the person\n      const personObject = {\n        name: newName,\n        number: newNumber,\n        id: persons.length + 1\n      }\n\n      personService\n        .create(personObject)\n        .then(returnedNote => {\n          if (personIsAdded(newName, persons)) {\n            alert(`${newName} is already added to Contact List`);\n          }\n          else {\n            setPersons([...persons, { name: newName, number: newNumber }]);\n          }\n          setNotificationMessage(`Added ${newName}`);\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 2000);\n          setNewName('');\n          setNewNumber('');\n        })\n        .catch(error => {\n          setErrorMessage(`Information of ${newName} has already been removed from server`);\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000);\n        })\n    }\n  }\n  \n  const handleNameChange = event => {\n    setNewName(event.target.value);\n  }\n\n  const handleNumberChange = event => {\n    setNewNumber(event.target.value);\n  }\n\n  const cancel = () => {\n    setNewName('');\n    setNewNumber('');\n  };\n\n  const deletePerson = id => {\n    personService\n      .remove(id)\n      .then(() => {\n        const updatedPersons = persons.filter(p => p.id !== id);\n        setPersons(updatedPersons);\n      })\n  }\n\n  const handleSearchName = event => {\n    setSearchName(event.target.value);\n    setShowAll(false);\n  }\n\n  const contactsToShow = showAll\n  ? persons\n  : persons.filter(person => {\n      let toFilter = person.name.toLocaleLowerCase();\n      let toSearch = searchName.toLowerCase()\n      return toFilter.includes(toSearch);\n    });\n\n      return (\n        <div>\n          <Grid container={true}>\n            <Grid item={true}>\n              <PersonForm\n                handleOnSubmit={addContact}\n                newName={newName}\n                handleOnNameChange={handleNameChange}\n                newNumber={newNumber}\n                handleOnNumberChange={handleNumberChange}\n                cancel = {cancel}\n              />\n            </Grid>\n          </Grid>\n          <Box className={classes.dialog}>\n             <SimpleDialog \n             contactsToShow={contactsToShow}\n             handleSearchName = {handleSearchName}\n             deletePerson = {deletePerson}\n             persons = {persons}\n             />\n          </Box>\n          <Notification type={\"error\"} message={errorMessage} />\n        </div>\n      );\n    }"],"mappings":"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","sourceRoot":""}